(this["webpackJsonpadmin-ui"]=this["webpackJsonpadmin-ui"]||[]).push([[5],{84:function(e,t,c){"use strict";c.r(t);var a=c(79),n=c(1),i=c(34),l=c(15);function r(e){return{type:l.a,payload:e}}var o=c(80),s=c.n(o),u=c(7),d=Object(n.lazy)((function(){return c.e(4).then(c.bind(null,83))})),j=function(e){var t=Object(n.useState)(1),c=Object(a.a)(t,2),i=c[0],l=c[1],r=Object(n.useState)(e.dataSet),o=Object(a.a)(r,2),j=o[0],b=o[1],h=Object(n.useState)(1),f=Object(a.a)(h,2),m=f[0],p=f[1],O=Object(n.useState)(0),x=Object(a.a)(O,2),g=x[0],k=x[1],N=Object(n.useState)([]),y=Object(a.a)(N,2),S=y[0],v=y[1],C=Object(n.useState)(!1),E=Object(a.a)(C,2),D=E[0],B=E[1],q=Object(n.useState)(!1),A=Object(a.a)(q,2),P=A[0],T=A[1],_=Object(n.useState)(null),w=Object(a.a)(_,2),R=w[0],F=w[1];Object(n.useEffect)((function(){k(e.perPage)}),[]),Object(n.useEffect)((function(){var t=0;e.dataSet&&(t=Math.ceil(e.dataSet.length/e.perPage))>m&&1!==m&&p(m-1),l(t),b(e.dataSet),v([]),document.querySelectorAll("input[type=checkbox]").forEach((function(e){return e.checked=!1}))}),[e.dataSet,e.total]);var I=function(e){p(Number(e.currentTarget.id)+1),document.querySelectorAll("input[type=checkbox]").forEach((function(e){return e.checked=!1}))},J=function(e){var t=S,c=s.a.findIndex(t,["id",Number(e.currentTarget.id)]);-1!==c?t.splice(c,1):t.push({id:Number(e.currentTarget.id)}),v(t)},M=m*g,z=M-g,G=j&&j.slice(z,M),H=G&&G.map((function(t,c){return Object(u.jsxs)("tr",{children:[e.bulkDelete?Object(u.jsx)("td",{children:Object(u.jsx)("input",{type:"checkbox",id:t.id,name:"checkBoxData",onChange:J})}):null,Object.keys(t).map((function(e,c){if("id"!==e)return Object(u.jsx)("td",{children:t[e]},c)})),e.Edit||e.Delete?Object(u.jsxs)("td",{children:[Object(u.jsx)("em",{className:"fa fa-pencil-square-o ml-2 text-info","aria-hidden":"true",style:{cursor:"pointer"},onClick:function(){F(t),T(!0)}}),Object(u.jsx)("em",{id:c,className:"fa fa-trash ml-3 text-danger","aria-hidden":"true",style:{cursor:"pointer"},onClick:e.onDelete})]}):null]},c)}));return Object(u.jsx)(u.Fragment,{children:P?Object(u.jsx)(d,{editData:R,onSave:function(t){T(!1),e.onEdit(t)},onGoBack:function(){T(!1)}}):Object(u.jsxs)("div",{children:[Object(u.jsxs)("table",{className:"table",children:[Object(u.jsx)("thead",{children:Object(u.jsx)("tr",{children:e.fields&&e.fields.length>0?e.fields.map((function(e,t){return"checkBox"===e.fieldName?Object(u.jsx)("th",{scope:"col",children:Object(u.jsx)("input",{type:"checkbox",id:"checkBoxData",name:"checkBoxData",value:D,onChange:function(e){if(document.querySelectorAll("input[type=checkbox]").forEach((function(e){return e.checked=!D})),D)v([]);else{var t=[];G&&G.map((function(e,c){t.push({id:Number(e.id)})})),v(t)}B(!D)}})},t):Object(u.jsx)("th",{scope:"col",children:e.fieldName},t)})):null})}),Object(u.jsx)("tbody",{children:H})]}),Object(u.jsx)("button",{type:"button",class:"btn btn-danger mr-3",onClick:function(){e.onBulkDelete(S)},children:"Delete Selected"}),Object(u.jsx)("strong",{children:"Current Page : "+m}),Object(u.jsx)("nav",{"aria-label":"Page navigation example",className:"float-right",children:Object(u.jsxs)("ul",{className:"pagination",children:[Object(u.jsx)("li",{className:"page-item Cursor",onClick:function(){p(1),document.querySelectorAll("input[type=checkbox]").forEach((function(e){return e.checked=!1}))},children:Object(u.jsx)("a",{className:"page-link","aria-label":"Next",children:Object(u.jsx)("span",{"aria-hidden":"true",children:Object(u.jsx)("em",{class:"fa fa-angle-double-left","aria-hidden":"true"})})})}),Object(u.jsx)("li",{className:"page-item Cursor",onClick:function(){m>1&&(p(m-1),document.querySelectorAll("input[type=checkbox]").forEach((function(e){return e.checked=!1})))},children:Object(u.jsx)("a",{className:"page-link","aria-label":"Previous",children:Object(u.jsx)("span",{"aria-hidden":"true",children:Object(u.jsx)("em",{class:"fa fa-angle-left","aria-hidden":"true"})})})}),function(){for(var e=[],t=0;t<i;t++)e.push(Object(u.jsx)("li",{className:"page-item Cursor",onClick:I,id:t,children:Object(u.jsx)("a",{className:"page-link",children:t+1},t)},t));return e}(),Object(u.jsx)("li",{className:"page-item Cursor",onClick:function(){m<i&&(p(m+1),document.querySelectorAll("input[type=checkbox]").forEach((function(e){return e.checked=!1})))},children:Object(u.jsx)("a",{className:"page-link","aria-label":"Next",children:Object(u.jsx)("span",{"aria-hidden":"true",children:Object(u.jsx)("em",{class:"fa fa-angle-right","aria-hidden":"true"})})})}),Object(u.jsx)("li",{className:"page-item Cursor",onClick:function(){p(i),document.querySelectorAll("input[type=checkbox]").forEach((function(e){return e.checked=!1}))},children:Object(u.jsx)("a",{className:"page-link","aria-label":"Next",children:Object(u.jsx)("span",{"aria-hidden":"true",children:Object(u.jsx)("em",{class:"fa fa-angle-double-right","aria-hidden":"true"})})})})]})})]})})};t.default=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.admindReducer.default})),c=Object(n.useState)([{_id:0,fieldName:"checkBox",type:"checkBox"},{_id:1,fieldName:"Name",type:"text"},{_id:2,fieldName:"Email",type:"text"},{_id:3,fieldName:"Role",type:"text"},{_id:4,fieldName:"Actions",type:"actions"}]),l=Object(a.a)(c,2),o=l[0],d=(l[1],Object(n.useState)([])),b=Object(a.a)(d,2),h=b[0],f=b[1],m=Object(n.useState)(0),p=Object(a.a)(m,2),O=p[0],x=p[1],g=Object(n.useState)(null),k=Object(a.a)(g,2),N=k[0],y=k[1];Object(n.useEffect)((function(){console.log("Component Did Mount","production",h),e(r({payload:"call api through axios"}))}),[]),Object(n.useEffect)((function(){console.log("Component Did update","production","members"),f(t),t&&x(t.length)}),[t]),Object(n.useEffect)((function(){console.log("Component Did update","production","dataSet")}),[h]),Object(n.useEffect)((function(){if(console.log("Component Did update","production","Serach"),N){var t=h.filter((function(e){return Object.values(e).some((function(e){return e.includes(N)}))}));f(t)}else e(r({payload:"call api through axios"}))}),[N]);var S=function(e){f(e),x(h.length)};return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"row mt-4",children:[Object(u.jsx)("div",{className:"col-md-2"}),Object(u.jsxs)("div",{className:"col-md-8",children:[Object(u.jsx)("div",{children:Object(u.jsx)("input",{type:"text",className:"form-control",placeholder:"Search By Name, Email, Role",id:"name","aria-describedby":"emailHelp",value:N,onChange:function(e){y(e.target.value)}})}),Object(u.jsx)(j,{fields:o,dataSet:h,bulkDelete:!0,Edit:!0,Delete:!0,perPage:10,total:O,onDelete:function(e){var t=h;t.splice(e.currentTarget.id,1),S(t)},onBulkDelete:function(e){var t=[];e.map((function(e,c){t.push(e.id)}));var c=h.filter((function(e){return!t.includes(Number(e.id))}));S(c)},onEdit:function(e){var t=h,c=s.a.findIndex(t,["id",e.id]);t[c].name=e.name,t[c].email=e.email,t[c].role=e.role}}),Object(u.jsx)("strong",{className:"mt-4",children:"Total records: "+(h&&h.length)})]}),Object(u.jsx)("div",{className:"col-md-2"})]})})}}}]);
//# sourceMappingURL=5.377ebe72.chunk.js.map